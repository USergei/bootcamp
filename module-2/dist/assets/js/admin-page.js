const HOST_URL="http://localhost:3001/",deleteButtons=document.querySelectorAll("[data-delete]"),replyButtons=document.querySelectorAll("[data-reply]");function remove(e){fetch(`${HOST_URL}deleteContactFormData/`+e,{method:"DELETE"}).then(()=>{window.location.reload()}).catch(e=>{throw new Error(e)})}async function postData(e="",t={}){const o=await fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});return o.json()}deleteButtons.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),remove(e.target.closest(".table__row").id)})}),replyButtons.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.closest(".table__row"),o=t.querySelector("form"),r=t.querySelector("textarea"),a=t.querySelector(".email").innerText,n=t.querySelector(".message").innerText;o.classList.add("is__open"),r.focus(),o.addEventListener("submit",function(e){e.preventDefault();e={email:a,subject:`re: ${n}`,text:r.value};postData(`${HOST_URL}sendEmail`,e).then(e=>{}).catch(e=>{throw new Error(e)}),o.reset(),o[0].value="",o[0].placeholder="Your mail has been sent",o[0].classList.add("color__placeholder"),setTimeout(function(){o.classList.remove("is__open")},3e3)})})});